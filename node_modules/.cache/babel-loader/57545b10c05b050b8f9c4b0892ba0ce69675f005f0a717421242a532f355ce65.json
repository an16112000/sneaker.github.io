{"ast":null,"code":"import _regeneratorRuntime from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{VND}from\"../changeCurrency/changeCurrency\";import{getRateKor}from\"../rate\";import{instance}from\"../services\";export var getSalesHistorySoldOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(submitCode,size){var data1,responeData,id,response,rate,data,arr,i,_i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.get(\"https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=1&pageSize=24&keyword=\".concat(submitCode));case 3:data1=_context.sent;responeData=data1.data.data.product_info.list;id=responeData[0].id;_context.next=8;return instance.get(\"https://www.soldout.co.kr/api/v3/product/item/get-item-order-graph?item_id=\".concat(id,\"&type=1w\"));case 8:response=_context.sent;_context.next=11;return getRateKor();case 11:rate=_context.sent;data=response.data.data['1w'].trade_list;arr=[];if(data.length<20){for(i=data.length-1;i>0;i--){arr.push({size:parseInt(data[i].option),price:VND.format(Math.floor(data[i].y*rate)),date:data[i].x});}}else{for(_i=data.length-1;_i>data.length-21;_i--){arr.push({size:parseInt(data[_i].option),price:VND.format(Math.floor(data[_i].y*rate)),date:data[_i].x});}}return _context.abrupt(\"return\",arr);case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);alert('Sold Out kh么ng c贸');return _context.abrupt(\"return\",[]);case 22:case\"end\":return _context.stop();}},_callee,null,[[0,18]]);}));return function getSalesHistorySoldOut(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["VND","getRateKor","instance","getSalesHistorySoldOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","submitCode","size","data1","responeData","id","response","rate","data","arr","i","_i","wrap","_callee$","_context","prev","next","get","concat","sent","product_info","list","trade_list","length","push","parseInt","option","price","format","Math","floor","y","date","x","abrupt","t0","alert","stop","_x","_x2","apply","arguments"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/getDataFromSoldOut/getSalesHistorySoldOut.js"],"sourcesContent":["import { VND } from \"../changeCurrency/changeCurrency\";\nimport { getRateKor } from \"../rate\"\nimport { instance } from \"../services\"\n\nexport const getSalesHistorySoldOut = async (submitCode, size) => {\n    try {\n        const data1 = await instance.get(`https://www.soldout.co.kr/api/v3/search/get-item-list?&typeGb=goods&pageIndex=1&pageSize=24&keyword=${submitCode}`)\n        const responeData = data1.data.data.product_info.list;\n        const id = responeData[0].id\n        const response = await instance.get(`https://www.soldout.co.kr/api/v3/product/item/get-item-order-graph?item_id=${id}&type=1w`)\n        const rate = await getRateKor();\n        const data = response.data.data['1w'].trade_list\n        const arr = []\n        if (data.length < 20) {\n            for (let i = data.length - 1; i > 0; i--) {\n                arr.push(\n                    {\n                        size: parseInt(data[i].option),\n                        price: VND.format(Math.floor(data[i].y * rate)),\n                        date: data[i].x\n                    }\n                )\n            }\n        }\n        else {\n            for (let i = data.length - 1; i > data.length - 21; i--) {\n                arr.push(\n                    {\n                        size: parseInt(data[i].option),\n                        price: VND.format(Math.floor(data[i].y * rate)),\n                        date: data[i].x\n                    }\n                )\n            }\n        }\n        return arr\n    } catch (text) {\n        alert('Sold Out kh么ng c贸')\n        return []\n    }\n}"],"mappings":"sTAAA,OAASA,GAAG,KAAQ,kCAAkC,CACtD,OAASC,UAAU,KAAQ,SAAS,CACpC,OAASC,QAAQ,KAAQ,aAAa,CAEtC,MAAO,IAAM,CAAAC,sBAAsB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,UAAU,CAAEC,IAAI,MAAAC,KAAA,CAAAC,WAAA,CAAAC,EAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAC,IAAA,CAAAC,GAAA,CAAAC,CAAA,CAAAC,EAAA,QAAAb,mBAAA,GAAAc,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEjC,CAAAtB,QAAQ,CAACuB,GAAG,wGAAAC,MAAA,CAAwGjB,UAAU,CAAE,CAAC,QAA/IE,KAAK,CAAAW,QAAA,CAAAK,IAAA,CACLf,WAAW,CAAGD,KAAK,CAACK,IAAI,CAACA,IAAI,CAACY,YAAY,CAACC,IAAI,CAC/ChB,EAAE,CAAGD,WAAW,CAAC,CAAC,CAAC,CAACC,EAAE,CAAAS,QAAA,CAAAE,IAAA,SACL,CAAAtB,QAAQ,CAACuB,GAAG,+EAAAC,MAAA,CAA+Eb,EAAE,YAAU,CAAC,QAAzHC,QAAQ,CAAAQ,QAAA,CAAAK,IAAA,CAAAL,QAAA,CAAAE,IAAA,UACK,CAAAvB,UAAU,CAAC,CAAC,SAAzBc,IAAI,CAAAO,QAAA,CAAAK,IAAA,CACJX,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,IAAI,CAAC,CAACc,UAAU,CAC1Cb,GAAG,CAAG,EAAE,CACd,GAAID,IAAI,CAACe,MAAM,CAAG,EAAE,CAAE,CAClB,IAASb,CAAC,CAAGF,IAAI,CAACe,MAAM,CAAG,CAAC,CAAEb,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CAAE,CACtCD,GAAG,CAACe,IAAI,CACJ,CACItB,IAAI,CAAEuB,QAAQ,CAACjB,IAAI,CAACE,CAAC,CAAC,CAACgB,MAAM,CAAC,CAC9BC,KAAK,CAAEnC,GAAG,CAACoC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACtB,IAAI,CAACE,CAAC,CAAC,CAACqB,CAAC,CAAGxB,IAAI,CAAC,CAAC,CAC/CyB,IAAI,CAAExB,IAAI,CAACE,CAAC,CAAC,CAACuB,CAClB,CACJ,CAAC,CACL,CACJ,CAAC,IACI,CACD,IAASvB,EAAC,CAAGF,IAAI,CAACe,MAAM,CAAG,CAAC,CAAEb,EAAC,CAAGF,IAAI,CAACe,MAAM,CAAG,EAAE,CAAEb,EAAC,EAAE,CAAE,CACrDD,GAAG,CAACe,IAAI,CACJ,CACItB,IAAI,CAAEuB,QAAQ,CAACjB,IAAI,CAACE,EAAC,CAAC,CAACgB,MAAM,CAAC,CAC9BC,KAAK,CAAEnC,GAAG,CAACoC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACtB,IAAI,CAACE,EAAC,CAAC,CAACqB,CAAC,CAAGxB,IAAI,CAAC,CAAC,CAC/CyB,IAAI,CAAExB,IAAI,CAACE,EAAC,CAAC,CAACuB,CAClB,CACJ,CAAC,CACL,CACJ,CAAC,OAAAnB,QAAA,CAAAoB,MAAA,UACMzB,GAAG,UAAAK,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAqB,EAAA,CAAArB,QAAA,aAEVsB,KAAK,CAAC,mBAAmB,CAAC,QAAAtB,QAAA,CAAAoB,MAAA,UACnB,EAAE,2BAAApB,QAAA,CAAAuB,IAAA,MAAArC,OAAA,iBAEhB,kBApCY,CAAAL,sBAAsBA,CAAA2C,EAAA,CAAAC,GAAA,SAAA3C,IAAA,CAAA4C,KAAA,MAAAC,SAAA,OAoClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}