{"ast":null,"code":"import _regeneratorRuntime from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{VND}from\"../changeCurrency/changeCurrency\";import{getRateKor}from\"../rate\";import{instanceKream,instanceKreamWithToken}from\"../services\";import{getIdProductKream}from\"./getIdProductKream\";export var getSalesHistoryKream=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(submitCode,size){var id,response,rate,data,arr,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!!size){size=\"/\".concat(size);}_context.next=4;return getIdProductKream(submitCode);case 4:id=_context.sent;_context.next=7;return instanceKreamWithToken.get(\"https://kream.co.kr/api/p/products/\".concat(id).concat(size,\"/sales?cursor=1&per_page=50&sort=date_created[desc]&request_key=d7c32947-afd9-4bb5-af8b-19b0f893c3a1\"));case 7:response=_context.sent;_context.next=10;return getRateKor();case 10:rate=_context.sent;data=response.data.items;arr=[];for(i=0;i<20;i++){arr.push({size:parseInt(data[i].option),price:VND.format(Math.floor(data[i].price*rate)),date:data[i].date_created.replace('T',' ').replace('Z','')});}return _context.abrupt(\"return\",arr);case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);alert('Kream kh么ng c贸');return _context.abrupt(\"return\",[]);case 21:case\"end\":return _context.stop();}},_callee,null,[[0,17]]);}));return function getSalesHistoryKream(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["VND","getRateKor","instanceKream","instanceKreamWithToken","getIdProductKream","getSalesHistoryKream","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","submitCode","size","id","response","rate","data","arr","i","wrap","_callee$","_context","prev","next","concat","sent","get","items","push","parseInt","option","price","format","Math","floor","date","date_created","replace","abrupt","t0","alert","stop","_x","_x2","apply","arguments"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/getDataFromKream/getSalesHistoryKream.js"],"sourcesContent":["import { VND } from \"../changeCurrency/changeCurrency\"\nimport { getRateKor } from \"../rate\"\nimport { instanceKream, instanceKreamWithToken } from \"../services\"\nimport { getIdProductKream } from \"./getIdProductKream\"\n\n\nexport const getSalesHistoryKream = async(submitCode, size) => {\n    try {\n        if(!!size) {\n            size = `/${size}`\n        }\n        const id = await getIdProductKream(submitCode)\n        const response = await instanceKreamWithToken.get(`https://kream.co.kr/api/p/products/${id}${size}/sales?cursor=1&per_page=50&sort=date_created[desc]&request_key=d7c32947-afd9-4bb5-af8b-19b0f893c3a1`)\n        const rate = await getRateKor();\n        const data = response.data.items\n        const arr = [];\n        for (let i=0; i<20; i++) {\n            arr.push(\n                {\n                    size: parseInt(data[i].option),\n                    price: VND.format(Math.floor(data[i].price*rate)),\n                    date: data[i].date_created.replace('T', ' ').replace('Z', '')\n                }\n            )\n        }\n        return arr;\n    } catch(text) {\n        alert('Kream kh么ng c贸')\n        return []\n    }\n}\n\n"],"mappings":"sTAAA,OAASA,GAAG,KAAQ,kCAAkC,CACtD,OAASC,UAAU,KAAQ,SAAS,CACpC,OAASC,aAAa,CAAEC,sBAAsB,KAAQ,aAAa,CACnE,OAASC,iBAAiB,KAAQ,qBAAqB,CAGvD,MAAO,IAAM,CAAAC,oBAAoB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,UAAU,CAAEC,IAAI,MAAAC,EAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAC,IAAA,CAAAC,GAAA,CAAAC,CAAA,QAAAV,mBAAA,GAAAW,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAElD,GAAG,CAAC,CAACV,IAAI,CAAE,CACPA,IAAI,KAAAY,MAAA,CAAOZ,IAAI,CAAE,CACrB,CAACS,QAAA,CAAAE,IAAA,SACgB,CAAAnB,iBAAiB,CAACO,UAAU,CAAC,QAAxCE,EAAE,CAAAQ,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACe,CAAApB,sBAAsB,CAACuB,GAAG,uCAAAF,MAAA,CAAuCX,EAAE,EAAAW,MAAA,CAAGZ,IAAI,wGAAsG,CAAC,QAAlME,QAAQ,CAAAO,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,UACK,CAAAtB,UAAU,CAAC,CAAC,SAAzBc,IAAI,CAAAM,QAAA,CAAAI,IAAA,CACJT,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAACW,KAAK,CAC1BV,GAAG,CAAG,EAAE,CACd,IAASC,CAAC,CAAC,CAAC,CAAEA,CAAC,CAAC,EAAE,CAAEA,CAAC,EAAE,CAAE,CACrBD,GAAG,CAACW,IAAI,CACJ,CACIhB,IAAI,CAAEiB,QAAQ,CAACb,IAAI,CAACE,CAAC,CAAC,CAACY,MAAM,CAAC,CAC9BC,KAAK,CAAE/B,GAAG,CAACgC,MAAM,CAACC,IAAI,CAACC,KAAK,CAAClB,IAAI,CAACE,CAAC,CAAC,CAACa,KAAK,CAAChB,IAAI,CAAC,CAAC,CACjDoB,IAAI,CAAEnB,IAAI,CAACE,CAAC,CAAC,CAACkB,YAAY,CAACC,OAAO,CAAC,GAAG,CAAE,GAAG,CAAC,CAACA,OAAO,CAAC,GAAG,CAAE,EAAE,CAChE,CACJ,CAAC,CACL,CAAC,OAAAhB,QAAA,CAAAiB,MAAA,UACMrB,GAAG,UAAAI,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAkB,EAAA,CAAAlB,QAAA,aAEVmB,KAAK,CAAC,gBAAgB,CAAC,QAAAnB,QAAA,CAAAiB,MAAA,UAChB,EAAE,2BAAAjB,QAAA,CAAAoB,IAAA,MAAA/B,OAAA,iBAEhB,kBAxBY,CAAAL,oBAAoBA,CAAAqC,EAAA,CAAAC,GAAA,SAAArC,IAAA,CAAAsC,KAAA,MAAAC,SAAA,OAwBhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}