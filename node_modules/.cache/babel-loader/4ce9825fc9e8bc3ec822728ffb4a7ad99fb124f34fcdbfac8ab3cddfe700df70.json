{"ast":null,"code":"import _regeneratorRuntime from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{getRateKor}from\"../rate\";import{instanceKream}from\"../services\";export var getSizeAndSkuFromKream=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(submitCode){var idResponse,id,data,response,rate,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return instanceKream.get(\"https://kream.co.kr/api/p/tabs/all/?keyword=\".concat(submitCode,\"&request_key=1175b18f-9722-434f-ac57-4d87fefba9cd\"));case 2:idResponse=_context.sent;id=idResponse.data.items[0].product.release.id;_context.next=6;return instanceKream.get(\"https://kream.co.kr/api/p/products/\".concat(id,\"?request_key=9a9e4191-4911-46d5-992d-3bc702a20968\"));case 6:data=_context.sent;response=data.data.sales_options;_context.next=10;return getRateKor();case 10:rate=_context.sent;result=response.map(function(item){return{size:parseInt(item.option),price:item.lowest_ask*rate};});return _context.abrupt(\"return\",result);case 13:case\"end\":return _context.stop();}},_callee);}));return function getSizeAndSkuFromKream(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["getRateKor","instanceKream","getSizeAndSkuFromKream","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","submitCode","idResponse","id","data","response","rate","result","wrap","_callee$","_context","prev","next","get","concat","sent","items","product","release","sales_options","map","item","size","parseInt","option","price","lowest_ask","abrupt","stop","_x","apply","arguments"],"sources":["/Users/doandinhan/Documents/workspace/getDataSNKRDUNK/getdata/src/getDataFromKream/getSizeAndSku.js"],"sourcesContent":["import { getRateKor } from \"../rate\";\nimport { instanceKream } from \"../services\";\n\nexport const getSizeAndSkuFromKream = async (submitCode) => {\n    const idResponse = await instanceKream.get(`https://kream.co.kr/api/p/tabs/all/?keyword=${submitCode}&request_key=1175b18f-9722-434f-ac57-4d87fefba9cd`)\n    const id = idResponse.data.items[0].product.release.id\n    const data = await instanceKream.get(`https://kream.co.kr/api/p/products/${id}?request_key=9a9e4191-4911-46d5-992d-3bc702a20968`)\n    const response = data.data.sales_options\n    const rate = await getRateKor();\n    const result = response.map(\n        (item) => {\n            return {\n                size: parseInt(item.option),\n                price: item.lowest_ask*rate\n            }\n        }\n    )\n    return result\n}"],"mappings":"sTAAA,OAASA,UAAU,KAAQ,SAAS,CACpC,OAASC,aAAa,KAAQ,aAAa,CAE3C,MAAO,IAAM,CAAAC,sBAAsB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,UAAU,MAAAC,UAAA,CAAAC,EAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAC,MAAA,QAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAC1B,CAAAlB,aAAa,CAACmB,GAAG,gDAAAC,MAAA,CAAgDb,UAAU,qDAAmD,CAAC,QAAlJC,UAAU,CAAAQ,QAAA,CAAAK,IAAA,CACVZ,EAAE,CAAGD,UAAU,CAACE,IAAI,CAACY,KAAK,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,OAAO,CAACf,EAAE,CAAAO,QAAA,CAAAE,IAAA,SACnC,CAAAlB,aAAa,CAACmB,GAAG,uCAAAC,MAAA,CAAuCX,EAAE,qDAAmD,CAAC,QAA3HC,IAAI,CAAAM,QAAA,CAAAK,IAAA,CACJV,QAAQ,CAAGD,IAAI,CAACA,IAAI,CAACe,aAAa,CAAAT,QAAA,CAAAE,IAAA,UACrB,CAAAnB,UAAU,CAAC,CAAC,SAAzBa,IAAI,CAAAI,QAAA,CAAAK,IAAA,CACJR,MAAM,CAAGF,QAAQ,CAACe,GAAG,CACvB,SAACC,IAAI,CAAK,CACN,MAAO,CACHC,IAAI,CAAEC,QAAQ,CAACF,IAAI,CAACG,MAAM,CAAC,CAC3BC,KAAK,CAAEJ,IAAI,CAACK,UAAU,CAACpB,IAC3B,CAAC,CACL,CACJ,CAAC,QAAAI,QAAA,CAAAiB,MAAA,UACMpB,MAAM,2BAAAG,QAAA,CAAAkB,IAAA,MAAA5B,OAAA,GAChB,kBAfY,CAAAL,sBAAsBA,CAAAkC,EAAA,SAAAjC,IAAA,CAAAkC,KAAA,MAAAC,SAAA,OAelC"},"metadata":{},"sourceType":"module","externalDependencies":[]}